<html>
    <head>
        <style>
            #map_canvas {
                width: 100%;
                height: 100%;
                margin: 0px;
                background-color: #CCC;
            }
        </style>

        <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false">
            </script>
    </head>
    <body>
        <script>
            var uci=new google.maps.LatLng(33.6454,-117.8426);
            var map;
            var flightPath;

            function addLatLng(myLocation) {
                var path = flightPath.getPath();
                // Because path is an MVCArray, we can simply append a new coordinate
                // and it will automatically appear.
                path.push(myLocation);
                array = path.getArray();
            }

            function addLatLngCoords(lat,lng) {
                var location = new google.maps.LatLng(lat,lng);
                addLatLng(location);
                return "Adding new point.";
            }

            function clearMap(){
                initialize()
            }

            function initialize() {
                var mapCanvas = document.getElementById('map_canvas');
                var mapOptions = {
                    center: uci,
                    zoom: 8,
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                map = new google.maps.Map(mapCanvas, mapOptions);

                var startingPoint=[uci];
                flightPath=new google.maps.Polyline({
                                                path:startingPoint,
                                                strokeColor:"#0000FF",
                                                strokeOpacity:0.8,
                                                strokeWeight:2
                                                });

                flightPath.setMap(map);

                google.maps.event.addListener(map, 'click', function(event){
                  lat = event.latLng.lat();
                  long = event.latLng.lng();
                  var location = new google.maps.LatLng(lat,long);
                  //myoperations.addPointToTableHi();
                  addLatLng(location);
                });
            }

        google.maps.event.addDomListener(window, 'load', initialize);
            </script>
        <div id="map_canvas">
        </div>
    </body>
</html>
